<div class="p-4 mt-6 md:mx-6 md:p-12">
  <h3>Arquivos do Sistema</h3>
  <p>Lista de arquivos dispon√≠veis para visualiza√ß√£o e gerenciamento</p>

  <button 
    pButton 
    label="Adicionar Arquivo" 
    icon="pi pi-plus" 
    class="p-button-text" 
    [routerLink]="['/adicionar']">
  </button>
  <hr />
  <p-toast></p-toast>

  <p-table #dt [value]="arquivos" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'" dataKey="id">
    
    <!-- üîç Filtro Global -->
    <ng-template pTemplate="caption">
      <div class="table-header flex justify-between items-center">
        Lista de Arquivos
        <span class="p-input-icon-left">
          <i class="pi pi-search"></i>
          <input
            pInputText
            type="text"
            (input)="applyFilterGlobal($event)"
            placeholder="Buscar..."
            class="rounded-md border border-gray-300 py-1.5 shadow-sm focus:border-red-300"
          />
        </span>
      </div>
    </ng-template>

    <!-- Cabe√ßalho -->
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="tipoDocumento">Documento <p-sortIcon field="tipoDocumento"></p-sortIcon></th>
        <th pSortableColumn="tipoColecao">Cole√ß√£o <p-sortIcon field="tipoColecao"></p-sortIcon></th>
        <th pSortableColumn="autor">Autor <p-sortIcon field="autor"></p-sortIcon></th>
        <th pSortableColumn="formato">Formato <p-sortIcon field="formato"></p-sortIcon></th>
        <th pSortableColumn="palavrasChave">Palavras-chave <p-sortIcon field="palavrasChave"></p-sortIcon></th>
        <th>A√ß√µes</th>
      </tr>
    </ng-template>

    <!-- Corpo -->
    <ng-template pTemplate="body" let-arquivo>
      <tr>
        <td>{{ arquivo.tipoDocumento }}</td>
        <td>{{ arquivo.tipoColecao }}</td>
        <td>{{ arquivo.autor }}</td>
        <td>{{ arquivo.formato }}</td>
        <td>{{ arquivo.palavrasChave }}</td>
        <td>
          <div class="flex items-center gap-2">
            <button
              pButton
              icon="pi pi-eye"
              class="p-button-text"
              (click)="visualizarArquivo(arquivo)"
            ></button>
        
            <button
              pButton
              icon="pi pi-pencil"
              class="p-button-text"
            ></button>
        
            <button
              pButton
              icon="pi pi-trash"
              class="p-button-text p-button-danger"
              (click)="excluirArquivo(arquivo)"
            ></button>
          </div>
        </td>
      </tr>
    </ng-template>

    <!-- Pagina√ß√£o -->
    <ng-template pTemplate="paginatorleft" let-state>
      <div>P√°gina {{ state.page + 1 }} de {{ state.pageCount }}</div>
    </ng-template>

  </p-table>
</div>